<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather</title>
    <link rel="stylesheet" href="weather.css"/>
    <!-- bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity
    ="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>
<body>
    <center>
        <div class="content">
        <h1 style="color:aliceblue;">Weather Checking Website</h1>
        <form id="form">
            <input type="text" id="input" placeholder="Enter The Place Name"/>
            <button type="submit" class="btn btn-primary sub">Submit</button>
        </form>
             <div id="info">
                <!-- <p>City:${name}</p>
                 <div>Temperrature is:${Math.round(main.temp)}<sup>o</sup>C</div> -->
             </div>
        </div>
        </center>
                <script>
                    const form=document.getElementById("form");
                    const input=document.getElementById("input");
                    const info=document.getElementById("info");
                    const apiKey="593202ab6da1f8ba1911309f40eb8d2f";

            // eventListner method
            form.addEventListener("submit",(e)=>{
                e.preventDefault();
                info.textContent="";
                const inputValue=input.value;
                // alert(inputValue);
            
            const url=`https://api.openweathermap.org/data/2.5/weather?q=${inputValue}&appid=${apiKey}&units=metric`;

            fetch(url)
            .then(response=>response.json())
            .then(data=>{
                const {main,name}=data;
                const para=document.createElement("div");
                para.classList.add("city");
                const out=`<p>City:${name}</p>
                <div>Temperature is: ${Math.round(main.temp)}<sup>o</sup>C</div>`;
                para.innerHTML=out;
                info.appendChild(para);
            })
            .catch(()=>{
                alert("please Enter A Valid City")
            })
        
        });
    </script>
    <!-- bootstrap script bundle -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-
MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script> 
    
</body>
</html>